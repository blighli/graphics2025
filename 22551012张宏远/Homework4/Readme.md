- # 期末大作业：交互式三维展厅与动态灯光秀

  **FinalShowroom – Interactive 3D Exhibition with Light Show**

  ------

  ## 一、项目简介

  本项目基于 **OpenGL 3.3 Core Profile** 实现了一个 **三维交互式展厅程序**。
   程序支持 **复杂 OBJ 模型加载**、**多光源实时光照渲染**、**动态灯光动画（灯光秀）**，并提供 **多种相机浏览方式**，用户可以以模型为中心进行观察，或以第一人称方式在场景中自由漫游。

  项目整体风格模拟 **展厅 / 博物馆展示环境**，包含地面栅格、云天空背景以及可视化光源，属于一个完整的 **交互式三维动画程序原型**。

  ------

  ## 二、功能完成情况

  ### 1. 三维交互式动画程序

  - 使用 **OpenGL 图形 API** 编写
  - 采用 C++ 实现，运行于 Windows 平台
  - 程序包含实时动画（灯光运动、颜色变化、强度呼吸）

  ✔ 满足「编写三维交互式动画程序」要求

  ------

  ### 2. 三维模型加载与显示

  - 支持 **OBJ 格式**三维模型
  - 使用 **tinyobjloader** 解析模型文件
  - 自动对模型进行 **居中与统一缩放**
  - 模型采用 VAO / VBO / EBO 方式上传 GPU 渲染

  ------

  ### 3. 多光源光照效果（Shader 实现）

  - 使用 **GLSL 着色器**进行光照计算
  - 光照模型：**Blinn–Phong**
  - 支持多种光源：
    - **方向光（Directional Light）**：提供基础整体照明
    - **多个点光源（Point Lights）**：
      - 沿轨道绕模型运动
      - 颜色动态变化
      - 强度周期性“呼吸”
  - 点光源具有 **距离衰减模型**
  - 加入 **曝光控制 + Tone Mapping + Gamma 校正**，避免高亮过曝

  ------

  ### 4. 点光源可视化（灯光秀核心）

  - 每个点光源在场景中以 **发光小球**形式显示
  - 小球颜色与点光源颜色一致
  - 小球沿轨道运动，直观展示灯光动画效果

  > 该功能显著增强了作品的可视性与表现力，是本项目的重要亮点

  ------

  ### 5. 多种视点浏览方式

  程序支持 **两种相机模式**，可实时切换：

  #### （1）Orbit 模式（以模型为中心）

  - 左键拖动：绕模型旋转
  - 右键拖动：平移视点
  - 鼠标滚轮：缩放视距

  #### （2）FPS 模式（第一人称漫游）

  - 鼠标移动：视角旋转
  - W / A / S / D：前后左右移动
  - Q / E：上升 / 下降
  - Shift：加速移动
  - 左键：锁定鼠标视角

  ------

  ### 6. 场景与环境效果

  - **展厅地面**：
    - 大平面地板
    - 程序化栅格线（小格 + 大格）
    - 任意角度可见（双面绘制）
  - **天空背景**：
    - 程序化云天空（非贴图）
    - 云层随时间缓慢漂移
    - 替代纯色背景，增强空间感

  ------

  ### 7. 交互功能一览

  | 功能                           | 按键    |
  | ------------------------------ | ------- |
  | Orbit 相机                     | `1`     |
  | FPS 相机                       | `2`     |
  | 暂停/继续动画                  | `Space` |
  | 切换灯光主题（暖 / 冷 / 霓虹） | `L`     |
  | 显示/隐藏地面栅格              | `G`     |
  | 模型自动旋转开关               | `M`     |
  | 重置相机                       | `R`     |
  | 截图保存 PNG                   | `P`     |
  | 退出程序                       | `ESC`   |

  ------

  ## 三、项目结构说明

  ```
  opengl/
  ├─ Camera.h / .cpp
  ├─ Mesh.h / .cpp
  ├─ ObjLoader.h / .cpp
  ├─ Shader.h / .cpp
  ├─ stb_image_write.h
  ├─ tiny_obj_loader.h
  ├─ glad.c
  ├─ main.cpp
  ├─ Shader/
  │  ├─ floor.vert
  │  ├─ floor.frag
  │  ├─ mesh.vert
  │  ├─ mesh.frag
  │  ├─ light.vert
  │  ├─ light.frag
  │  ├─ sky.vert
  │  └─ sky.frag
  
  ```

  ------

  ## 四、开发与运行环境

  - 操作系统：Windows 10 / 11
  - 编译器：Visual Studio 2019 / 2022（MSVC）
  - OpenGL 版本：3.3 Core Profile
  - 显卡：支持 OpenGL 3.3 的独立或集成显卡

  ### 使用的第三方库

  - **GLFW**：窗口创建与输入处理
  - **GLAD**：OpenGL 函数加载
  - **GLM**：数学库（矩阵、向量）
  - **tinyobjloader**：OBJ 模型加载
  - **stb_image_write**：截图保存

  ------

  ## 五、项目特点与亮点总结

  - 结构清晰，模块划分合理
  - 动态多光源灯光秀，视觉效果明显
  - 点光源可视化，灯光轨迹直观
  - 支持两种相机交互方式
  - 程序化天空与地面，避免资源依赖
  - 支持实时交互与截图保存

  

  ------

  ## 六、作者信息

  - 课程：计算机图形学
  - 作业：期末大作业 —— 三维交互式动画程序
  - 学生：22551012 张宏远
  - 提交时间：2026 年 1 月
